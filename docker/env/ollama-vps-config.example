# Ollama VPS Configuration Example
# Copy these environment variables to your .env.ollama file or export them before running docker compose
# Alternatively, you can set them directly in your shell before running docker compose

# CPU Configuration
# Set based on your VPS CPU cores (e.g., 2 for 2 cores, 4 for 4 cores)
# For 2-core VPS: use 2
# For 4-core VPS: use 4
# For 8+ core VPS: use 4-8
export OLLAMA_NUM_THREADS=4

# Resource Limits (adjust based on your VPS RAM)
# CPU limit: Maximum CPU cores Ollama can use
# For 2-core VPS: use 1.5
# For 4-core VPS: use 2.0-3.0
# For 8+ core VPS: use 4.0-6.0
export OLLAMA_CPU_LIMIT=2.0

# Memory limit: Maximum RAM Ollama can use
# Recommended: At least 4GB for small models, 8GB+ for larger models
# For 4GB VPS: use 2G
# For 8GB VPS: use 4G
# For 16GB+ VPS: use 8G
export OLLAMA_MEMORY_LIMIT=4G

# CPU reservation: Minimum CPU cores guaranteed to Ollama
export OLLAMA_CPU_RESERVATION=1.0

# Memory reservation: Minimum RAM guaranteed to Ollama
export OLLAMA_MEMORY_RESERVATION=2G

# Debug mode (set to true for troubleshooting)
export OLLAMA_DEBUG=false

# Usage:
# 1. Copy this file: cp ollama-vps-config.example .env.ollama
# 2. Edit .env.ollama with your VPS specifications
# 3. Source it before docker compose: source .env.ollama
# 4. Or set variables inline: OLLAMA_CPU_LIMIT=2.0 docker compose up -d
